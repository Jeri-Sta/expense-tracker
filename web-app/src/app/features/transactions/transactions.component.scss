@import 'variables';
@import 'mixins';

// Specific styles for transactions component
.p-datatable {
  .p-datatable-header {
    background: var(--surface-card);
    border: 1px solid var(--surface-border);
  }

  .p-datatable-thead > tr > th {
    background: var(--surface-section);
  }

  .p-datatable-tbody > tr {
    &:hover {
      background: var(--surface-hover);
    }
  }
}

.text-green-600 {
  color: $color-success !important;
}

.text-red-600 {
  color: $color-danger !important;
}

// Projection indicators
.projection-indicator {
  td:first-child {
    position: relative;

    &::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      width: 4px;
      border-radius: 0 2px 2px 0;
    }
  }

  &.projection-recurring td:first-child::before {
    background: linear-gradient(135deg, $color-primary, darken($color-primary, 15%));
  }

  &.projection-manual td:first-child::before {
    background: linear-gradient(135deg, $color-success, darken($color-success, 15%));
  }

  &.projection-ai td:first-child::before {
    background: linear-gradient(135deg, #8b5cf6, #7c3aed);
  }
}

// Projection filters panel
.p-panel.projection-filters {
  .p-panel-header {
    background: var(--blue-50, #eff6ff); // Fallback to light blue
    color: var(--blue-900, #1e3a8a); // Fallback to dark blue
  }

  .p-panel-content {
    padding: $spacing-md;
  }
}

// Confidence indicators
.confidence-high {
  color: $color-success !important;
}

.confidence-medium {
  color: $color-warning !important;
}

.confidence-low {
  color: $color-danger !important;
}

.field {
  margin-bottom: $spacing-md;
}

.field label {
  display: block;
  margin-bottom: $spacing-xs;
  font-weight: 600;
}

.ng-dirty.ng-invalid {
  border-color: $color-danger !important;
}

// Transaction dialog form - ensure proper spacing
.p-dialog {
  .projection-settings-panel {
    margin-bottom: $spacing-md;

    .p-panel-content {
      padding: $spacing-md;
    }
  }

  // Ensure action buttons are always visible and not overlapped
  .dialog-actions {
    position: relative;
    z-index: 10;
    background: var(--surface-card);
    border-top: 1px solid var(--surface-border);
    margin-top: $spacing-lg;
    padding-top: $spacing-md;
  }
}

// Responsive improvements
@include respond-to(md) {
  .p-datatable {
    .p-datatable-wrapper {
      overflow-x: auto;
    }
  }
}
